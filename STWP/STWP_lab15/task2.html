<!DOCTYPE html>
     <html>
     <head>
         <meta charset="UTF-8">
         <title>WASM Task 2 - Loaded from Server</title>
     </head>
     <body>
         <h1>WASM Functions (Loaded via Fetch)</h1>
         <p> sum(20, 7) = <span id="rsum"></span> </p>
         <p> sub(20, 7) = <span id="rsub"></span> </p>
         <p> mul(20, 7) = <span id="rmul"></span> </p>

         <script>
             async function loadAndRunWasm() {
                 try {
                     const response = await fetch('my_functions.wasm'); // Имя вашего WASM файла
                     if (!response.ok) {
                         throw new Error(`HTTP error! status: ${response.status} when fetching wasm`);
                     }

                     const { module, instance } = await WebAssembly.instantiateStreaming(response, {
                     });

                     document.getElementById('rsum').textContent = instance.exports.sum(20, 7);
                     document.getElementById('rsub').textContent = instance.exports.sub(20, 7);
                     document.getElementById('rmul').textContent = instance.exports.mul(20, 7);

                     console.log("WASM module loaded from server and functions executed.");
                     console.log("sum(20,7) =", instance.exports.sum(20, 7));

                 } catch (error) {
                     console.error("Error loading or instantiating WASM module:", error);
                     document.getElementById('rsum').textContent = "Error";
                     document.getElementById('rsub').textContent = "Error";
                     document.getElementById('rmul').textContent = "Error";
                 }
             }

             loadAndRunWasm();
         </script>
     </body>
     </html>